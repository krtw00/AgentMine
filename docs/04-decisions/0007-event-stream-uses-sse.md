---
depends_on:
  - ../02-architecture/tech-stack.md
tags: [decisions, adr, events, sse]
ai_summary: "Web UIへのイベント配信方式としてSSEを採用することを決定する"
---

# ADR-0007: イベント配信はSSEを採用する

> Status: Accepted
> 最終更新: 2026-02-01

## コンテキスト

MVPはローカル一人運用で開始する。
Web UIはrunログと状態変化をリアルタイムに表示する必要がある。
一方で、双方向通信はMVPの必須要件ではない。

## 決定事項

Web UIへのイベント配信方式としてSSE（Server-Sent Events）を採用する。

## 検討した選択肢

### 選択肢1: ポーリング（不採用）

- 長所: 実装が単純である
- 短所: ログ表示に向かない。負荷と遅延が増える

### 選択肢2: WebSocket（不採用）

- 長所: 双方向である
- 短所: 実装と運用が複雑になる。MVPでは過剰である

### 選択肢3: SSE（採用）

- 長所: サーバ→クライアントのストリーミングが単純である
- 短所: 双方向性はない

## 決定理由

- MVPで必要な方向が単方向であるため
- ローカル運用で運用コストが低いため

## 結果

### ポジティブな影響

- runログをリアルタイム表示できる
- UIは再接続が容易になる

### ネガティブな影響

- UIからの追加入力は別経路（HTTP）になる

## 関連ドキュメント

- [技術スタック](../02-architecture/tech-stack.md) - SSE採用理由
- [イベント配信](../03-details/event-stream.md) - イベント種別
