---
depends_on:
  - ../01-overview/summary.md
  - ../01-overview/goals.md
tags: [architecture, principles, philosophy]
ai_summary: "判断と実行基盤の分離、DBマスター、観測可能な事実などの設計思想を定義"
---

# 設計原則（思想SSoT）

> Status: Draft
> 最終更新: 2026-02-01

本ドキュメントは、AgentMineの設計思想と判断基準を定義するSSoTである。

---

## 基本思想

AgentMineは、
「判断しない実行基盤」と「判断材料の管理」を担う。
判断そのものは、人間とAI上位層が行う。

---

## 原則

### 1. 判断しない

- AgentMineは最終判断を行わない。
- 判断はOrchestrator/Planner/Supervisorに委ねる。
- AgentMineは判断材料の提供に専念する。

### 2. Orchestratorはインターフェースである

- Orchestratorは人間とAIの境界に立つ。
- 要件整理・移譲・判断を担う。
- 成果物は持たず、判断の入口/出口である。

### 3. DBマスター（Single Source of Truth）

- すべての状態はDBに集約する。
- ファイルはスナップショットであり真実ではない。
- 共有と監査を成立させるための前提である。

### 4. 観測可能な事実

- 状態はAIの報告ではなく事実で決定する。
- 事実の例: exit code、マージ状態、ログ、検証結果。
- 判断の再現性を高める。

### 5. 再現性優先

- 同じ条件なら同じ状態になることを最優先する。
- 判断材料を固定し、主観を排除する。
- 差分レビューと監査性を高める。

### 6. 安全性は制約で担保する

- スコープ制御とworktree隔離で暴走を防ぐ。
- 自動承認は物理制約がある場合のみ許容する。

### 7. AI非依存（Runner差し替え）

- 特定AIに依存しない。
- 実行方式はRunnerアダプタとして差し替え可能にする（CLI/API等）。
- 観測可能な事実の取り方はRunnerに依存しない。

### 8. プロジェクト管理が中心である

- Project/Task/Dependency/Runを中心に扱う。
- 進捗・履歴・依存を一元管理する。
- AIはこの管理モデル上で動作する。

---

## 期待する効果

| 原則 | 期待効果 |
|------|----------|
| 判断しない | 責務が明確になり拡張性が上がる |
| DBマスター | 状態が一貫し監査可能になる |
| 観測可能な事実 | 再現性が上がり判断が安定する |
| 安全性の制約 | AI暴走の被害が局所化する |

---

## 非原則（やらないこと）

| 項目 | 理由 |
|------|------|
| 仕様の正しさ判断 | ビジネス判断は人間の責務 |
| 単一AIの全自動開発 | 役割分離を崩すため |
| UI最適化の優先 | まず基盤の完成を優先 |
| Gitの置き換え | 既存運用と共存する |

---

## 関連ドキュメント

- [summary.md](../01-overview/summary.md) - プロジェクト概要
- [goals.md](../01-overview/goals.md) - 目的・解決する課題
- [scope.md](../01-overview/scope.md) - スコープ・対象外
- [role-model.md](./role-model.md) - 役割と責務分離
